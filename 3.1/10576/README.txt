A bit overkill with the segment tree, I could have just used recursion but I wanted some good
practice.
